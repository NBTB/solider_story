<?xml version="1.0" encoding="utf-8" ?>
<Data>
	<!-- The entry slide, presumably the title slide. -->
	<Entry>titleslide</Entry> 
	
	<!-- Valid types are "title", "body", and "ending". -->
	<Slide name="titleslide" type="title">
		
		<!-- In a title slide, the Content tag is interpreted as the title banner. -->
		<Content>A Soldier's story</Content>
		
		<!-- Relative or absolute URL to the background image. -->
		<Image>titleslide.png</Image>
		
		<Attribution>Mathews' House, Battle-Field of Bull Run. --Gardner's Photographic Sketchbook of the War--, Vol. I, 1866. Courtesy of George Eastman House, International Museum of Photography and Film.</Attribution>
		
		<!-- Prompt tags are ignored on a title slide. -->
		<Prompt/> 
		
		<!-- The normal rules for branching apply to a title slide (it may be a decision, random, or conditional). -->
		<Branch type="decision">
			<Path>
				<Text>Begin</Text>
				<Reference>sampledecision</Reference>
			</Path>
		</Branch>
	</Slide>
	<Slide name="sampledecision" type="body"> 
		
		<!-- Content that goes here appears in the main text box. -->
		<Content>This is a sample decision node. Choose your path on the right.</Content>
		
		<!-- Image URL -->
		<Image>slide2.png</Image> 
		
		<!-- Image Attribution -->
		<Attribution>Moore House, Yorktown, Virginia. --Gardner's Photographic Sketchbook of the War--, Vol. I, 1866. Courtesy of George Eastman House, International Museum of Photography and Film.</Attribution> 
		
		<!-- A prompt appears as a small text box in the upper right. -->
		<Prompt/> 
		
		<!-- A decision branching allows the user to decide which path to follow. -->
		<Branch type="decision">
			
			<!-- The first path. -->
			<Path>
				<Text>Play cards</Text> <!-- Text nodes describe the text that appears on the button for this path. -->
				<Store key="POKER" value="PLAYED"/>
				<Reference>samplerandom</Reference> <!-- If this path is followed, state changes to "samplerandom". -->
			</Path>
			
			<Path>
				<Text>Don't play cards</Text>
				<Reference>titleslide</Reference> <!-- If this path is followed, state changes to "titleslide". -->
			</Path>
		</Branch>
	</Slide>
	<Slide name="samplerandom" type="body"> 
		
		<!-- Content that goes here appears in the main text box. -->
		<Content>This is a sample random node. When branching, a random path is picked, and only a single button is shown to the user.</Content>
		
		<!-- Image URL -->
		<Image>slide2.png</Image> 
		
		<!-- Image Attribution -->
		<Attribution>Moore House, Yorktown, Virginia. --Gardner's Photographic Sketchbook of the War--, Vol. I, 1866. Courtesy of George Eastman House, International Museum of Photography and Film.</Attribution> 
		
		<!-- A prompt appears as a small text box in the upper right. -->
		<Prompt>This box may contain definitions or instructions. If no text would appear in the box, it becomes invisible.</Prompt> 
		
		<!-- A random branching picks a random path from the given weighted paths. The various paths are replaced by a single "continue" button. -->
		<!-- The weight gives the likelihood of this path being picked relative to the total weight of all paths. -->
		<Branch type="random">
			
			<!-- The first path. In this case, with a 4/13 probability. -->
			<Path>
				<Weight>4</Weight> 
				<Store key="POKEROUTCOME" value="WIN"/> <!-- Store commands are empty nodes. They cause the program to remember the given key/value pair. -->
				<Reference>patha</Reference> <!-- If this path is followed, state changes to "sampleconditional". -->
			</Path>
			
			<!-- The second path. In this case, with a 7/13 probability. -->
			<Path>
				<Weight>7</Weight>
				<Store key="POKEROUTCOME" value="LOSE"/>
				<Text/> <!-- Text nodes are ignored for random paths. -->
				<Reference>pathb</Reference> <!-- If this path is followed, state changes to "sampleconditional". There would not normally be a need to have two random paths lead to the same slide. -->
			</Path>
		</Branch>
	</Slide>
	<Slide name="patha" type="body">
		<Content>Path A was chosen for you.</Content>
		<!-- Image URL -->
		<Image>slide2.png</Image> 
		<!-- Image Attribution -->
		<Attribution>Moore House, Yorktown, Virginia. --Gardner's Photographic Sketchbook of the War--, Vol. I, 1866. Courtesy of George Eastman House, International Museum of Photography and Film.</Attribution> 
		<Branch type="decision">
			<Path>
				<Text>Continue</Text>
				<Reference>sampleconditional</Reference>
			</Path>
		</Branch>
	</Slide>
	<Slide name="pathb" type="body">
		<Content>Path B was chosen for you.</Content>
		<!-- Image URL -->
		<Image>slide2.png</Image> 
		<!-- Image Attribution -->
		<Attribution>Moore House, Yorktown, Virginia. --Gardner's Photographic Sketchbook of the War--, Vol. I, 1866. Courtesy of George Eastman House, International Museum of Photography and Film.</Attribution> 
		<Branch type="decision">
			<Path>
				<Text>Continue</Text>
				<Reference>sampleconditional</Reference>
			</Path>
		</Branch>
	</Slide>
	<Slide name="sampleconditional" type="body"> 
		
		<!-- Content that goes here appears in the main text box. -->
		<Content>This is a sample conditional page. The branches before this slide have merged, but decisions or random outcomes may still have an effect on future branches.
If the random page picked Path A, the button on this page will take you to the ending. 
If Path B, it will take you back to the random page. </Content>
		
		<!-- Image URL -->
		<Image>slide2.png</Image> 
		
		<!-- Image Attribution -->
		<Attribution>Moore House, Yorktown, Virginia. --Gardner's Photographic Sketchbook of the War--, Vol. I, 1866. Courtesy of George Eastman House, International Museum of Photography and Film.</Attribution> 
		
		<!-- A prompt appears as a small text box in the upper right. -->
		<Prompt/> 
		
		<!-- A conditional branching follows the first path with a key/value pair that has been previously stored. -->
		<!-- The various paths are replaced by a single "continue" button. -->
		<Branch type="conditional">
			
			<!-- The first path. -->
			<Path key="POKEROUTCOME" value="WIN">
				<Reference>ending</Reference> <!-- If this path is followed, state changes to "ending". -->
			</Path>
			
			<!-- If both paths contain a stored key/value pair, the first one has priority. -->
			<Path key="POKEROUTCOME" value="LOSE">
				<Text/> <!-- Text nodes are ignored in conditional paths. -->
				<Reference>samplerandom</Reference> <!-- If this path is followed, state changes to "samplerandom". -->
			</Path>
			
			<!-- In case of no matching key/value pairs, default to a certain slide. -->
			<!-- In case of no default, should there be an error screen? -->
			<Default>
				<Reference>error</Reference>
			</Default>
		</Branch>
	</Slide>
	<Slide name="ending" type="ending">
		
		<!-- In an ending slide, there is a banner with the text "The End", and the Content information is put in a smaller box along the bottom of the screen. -->
		<Content>You survived!</Content>
		
		<Image>slide2.png</Image>
		
		<Attribution>Moore House, Yorktown, Virginia. --Gardner's Photographic Sketchbook of the War--, Vol. I, 1866. Courtesy of George Eastman House, International Museum of Photography and Film.</Attribution>
		
		<!-- Prompt tags are ignored on an ending slide. -->
		<Prompt/> 
		
		<!-- The normal rules for branching DO NOT apply to an ending slide. -->
		<!-- The state is cleared and there is a single button called "Return" that brings the program back to the entry point. -->
		<Branch/>
	</Slide>
	<!-- There most likely needs to be a hardcoded version of this. That seems the easiest way to get an error message onscreen in case of program failure. -->
	<Slide name="error" type="ending">
		<Content>Something went wrong with the logic of the story.</Content>
		<Image>slide2.png</Image>
		<Attribution>Moore House, Yorktown, Virginia. --Gardner's Photographic Sketchbook of the War--, Vol. I, 1866. Courtesy of George Eastman House, International Museum of Photography and Film.</Attribution>
	</Slide>
</Data>